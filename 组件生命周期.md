### 组件的生命周期

- 组件从被创建到挂在到页面中运行，再到组件不用时卸载的过程
- 只有类组件才有生命
- 不要在render中调用setState()

### 创建时 

执行顺序 ：constructor()----->render()-------->componentDIdMount()

|      钩子函数       |        触发时机         | 作用                                    |
| :-----------------: | :---------------------: | :-------------------------------------- |
|     constructor     |  创建组件时，最先执行   | 1. 初始化state 2.为事件处理程序绑定this |
|       render'       |  每次组件渲染都会触发   | 渲染UI(注意： 不能调用setState())       |
| componentDIdMount() | 组件挂载(完成DOM渲染)后 | 1.发送网络请求 2. DOM操作               |

### 更新时

三种情况

- 调用setstate时
- 接受到新属性时
- 强制更新 forceUpdate（）

#### 执行顺序 ： render()--------> componentDidUpdate()

|      钩子函数      |         触发时机          | 作用                                                         |
| :----------------: | :-----------------------: | :----------------------------------------------------------- |
|       render       |   每次组件渲染都会触发    | 渲染UI（与挂载阶段时同一个render）                           |
| componentDidUpdate | 软件更新（完成DOM渲染）后 | 1、发送网络请求  2、DOM操作 注意：如果要setState（）必须放在一个if条件中 |

### 卸载时

##### 执行时机 ： 组件从页面中消失

| 钩子函数             | 触发时机                 | 作用                               |
| -------------------- | ------------------------ | ---------------------------------- |
| componentWillUnmount | 组件卸载（从页面中消失） | 执行清理工作（比如：清理定时器等） |

